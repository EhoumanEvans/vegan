STATUS OF NEW ORDIPARSEFORMULA
==============================

KNOWN ISSUES

* Several terms within Condition(): FATAL

* subset and na.action should be applied to both margins of dissimilarity lhs: FATAL

* Check corner cases of zero rows or columns.

* Check that output matrices have row names.

* Clean partial term labels: remove 'Condition(',')'.

* terms.expanded & ordiTerminfo IMPLEMENTATION DIFFER (but does this matter?)

TESTS

WARN: example(scores.cca) - In text.default(sco, labels = rownames(sco), ...) : 
  "length" is not a graphical parameter 

FAIL: example(add1.cca) 
  Error in unique.default(x[!is.na(x)]) : hash table is full 
  In addition: Warning message: 
  In Condition(Management + Moisture) : 
    Incompatible methods ("Ops.factor", "Ops.ordered") for "+"

OK:   example(cca)
OK:   example(dbrda)
OK:   example(predict.cca)
OK:   example(deviance.cca)
OK:   example(goodness.cca)
OK:   example(anova.cca)
OK:   example(RsquareAdj)
OK:   example(adonis)
OK:   example(biplot.rda)
OK:   example(eigenvals)
OK:   example(hatvalues.cca)
OK:   example(mso)
OK:   example(screeplot.cca)
OK:   example(simulate.rda)
OK:   example(tolerance)

R CMD check ERRORs, relevant NOTEs & WARNINGs

* checking examples ... ERROR
Running examples in ‘vegan-Ex.R’ failed
The error most likely occurred in:

> ### Name: add1.cca
...
> add1(m0, scope=formula(mbig), test="perm")
Warning in Condition(Management + Moisture) :
  Incompatible methods ("Ops.factor", "Ops.ordered") for "+"
Error in unique.default(x[!is.na(x)]) : hash table is full
Calls: add1 ... model.frame -> model.frame.default -> unique -> unique.default

--- COMMENT: Fails because Condition() has an expression of two variables

 ERROR
Running the tests in ‘tests/vegan-tests.R’ failed.
Last 13 lines of output:

Running the tests in ‘tests/vegan-tests.R’ failed.
Last 13 lines of output:
  
  adonis(formula = fla, data = dune.env)
              Df SumOfSqs      R2      F Pr(>F)    
  Management   3   1.4686 0.34161 3.0480  0.001 ***
  poly(A1, 2)  2   0.5829 0.13559 1.8146  0.073 .  
  spno         1   0.1596 0.03713 0.9940  0.423    
  Residual    13   2.0879 0.48567                  
  Total       19   4.2990 1.00000                  
  ---
  Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
  > ## capscale
  > p <- capscale(fla, data=df, na.action=na.exclude, subset = Use != "Pasture" & spno > 7)
  Error in qr.fitted(Q, Y) : 'qr' and 'y' must have the same number of rows
  Calls: capscale -> ordConstrained -> ordConstrain -> qr.fitted
  Execution halted

--- COMMENT: Fails because subset is not implemented for dissimilarity
    data - both margins should be subset.
